<form (ngSubmit)="submitForm()" [formGroup]="myForm" class="my-form">
  <mat-form-field class="my-form-field" [ngClass]="{'my-form-field--invalid': myForm.get('name')?.touched && myForm.get('name')?.invalid}">
    <input matInput placeholder="Name" formControlName="name">
    <mat-error *ngIf="myForm.get('name')?.touched && myForm.get('name')?.invalid">
      Name is required and must be at least 3 characters long.
    </mat-error>
  </mat-form-field>
  <mat-form-field class="my-form-field" [ngClass]="{'my-form-field--invalid': myForm.get('email')?.touched && myForm.get('email')?.invalid}">
    <input matInput placeholder="Email" formControlName="email">
    <mat-error *ngIf="myForm.get('email')?.touched && myForm.get('email')?.invalid">
      Email is required and must be a valid email address.
    </mat-error>
  </mat-form-field>
  <mat-form-field class="my-form-field" [ngClass]="{'my-form-field--invalid': myForm.get('age')?.touched && myForm.get('age')?.invalid}">
    <input matInput placeholder="Age" formControlName="age">
    <mat-error *ngIf="myForm.get('age')?.touched && myForm.get('age')?.invalid">
      Age is required and have to be higher or equal to 18.
    </mat-error>
  </mat-form-field>
  <mat-form-field class="my-form-field" [ngClass]="{'my-form-field--invalid': myForm.get('phone')?.touched && myForm.get('phone')?.invalid}">
    <input matInput placeholder="Phone" formControlName="phone">
    <mat-error *ngIf="myForm.get('phone')?.touched && myForm.get('phone')?.invalid">
      Phone is required and must be a 9-digit number.
    </mat-error>
  </mat-form-field>
  <button mat-raised-button color="primary" type="submit">Submit</button>
</form>
